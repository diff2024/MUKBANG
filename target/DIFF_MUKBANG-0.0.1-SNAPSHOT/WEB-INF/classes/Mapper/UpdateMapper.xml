<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.diff.map.Mapper.UpdateMapper">

	<update id="GeocodingUpdate" parameterType="HashMap">
		update restaurant_info
		   set _restaurant_latitude = #{_restaurant_latitude}, _restaurant_longitude = #{_restaurant_longitude}
		 where _restaurant_id = #{_restaurant_id}
	</update>
	
	<update id="UserRecentConnectUpdate" parameterType="HashMap">
		update user_info
		   set _user_recent_update_datetime = to_char(now(), 'YYYYMMDDHH24MISS')
		 where _user_id = #{user_id}
	</update>
	
	<update id="ChannelColorUpdate" parameterType="HashMap">
		INSERT INTO user_channel_info (_user_id, _user_channel_id, _user_channel_color)
		VALUES (#{user_id}, #{channel_id}, #{color})
		ON CONFLICT (_user_id, _user_channel_id)
		DO UPDATE
		SET _user_channel_color = #{color}
	</update>
	
</mapper>